<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Clients - MproIntervention</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: #f5f5f5; }
        header { background: #b30000; color: white; padding: 1rem; display: flex; align-items: center; }
        header img { height: 50px; margin-right: 15px; }
        .container { padding: 20px; }
        .search-bar { margin-bottom: 20px; }
        .search-bar input { padding: 10px; width: 100%; max-width: 400px; }
        .client-list { background: white; border-radius: 8px; padding: 10px; }
        .client-item {
            padding: 10px;
            border-bottom: 1px solid #ddd;
            cursor: pointer;
        }
        .client-item:hover { background: #f0f0f0; }
        .add-client {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #e60000;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <header>
        <img src="assets/logo.png" alt="Logo Mendes PI">
        <h1>Clients</h1>
    </header>

    <div class="container">
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Rechercher un client..." onkeyup="filterClients()">
        </div>
        <div class="client-list" id="clientList">
            <!-- Clients injectés par JS -->
        </div>
        <button class="add-client" onclick="alert('Formulaire de création à venir')">➕ Nouveau client</button>
    </div>

    <script>
        const clients = [
            { name: "Dupont SARL", city: "Paris" },
            { name: "Mendes Incendie", city: "Lyon" },
            { name: "SecuriTech", city: "Marseille" },
            { name: "ExtinctoPro", city: "Bordeaux" },
            { name: "ABC Sécurité", city: "Toulouse" }
        ];

        function renderClients(list) {
            const container = document.getElementById("clientList");
            container.innerHTML = "";
            list.forEach(client => {
                const item = document.createElement("div");
                item.className = "client-item";
                item.innerHTML = `<strong>${client.name}</strong><br><small>${client.city}</small>`;
                item.onclick = () => window.location.href = "client_fiche.html"; // à remplacer
                container.appendChild(item);
            });
        }

        function filterClients() {
            const query = document.getElementById("searchInput").value.toLowerCase();
            const filtered = clients.filter(c =>
                c.name.toLowerCase().includes(query) ||
                c.city.toLowerCase().includes(query)
            );
            renderClients(filtered);
        }

        // Affichage initial
        window.onload = () => renderClients(clients);
    </script>
</body>
</html>